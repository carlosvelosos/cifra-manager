import CifraDisplay from "@/components/cifra-display";
import FloatingMenu from "@/components/floating-menu";
import { convertToStructure } from "@/lib/parsers/cifra-converter";
// URL: https://www.cifraclub.com.br/marilia-mendonca/eu-sei-de-cor/

const cifra = `Marília Mendonça - Eu Sei De Cor

[Intro] <b>A9</b>  <b>E</b>  <b>F#m</b>  <b>D</b> 

[Tab - Intro] 
 
Parte 1 De 3

<span class="tablatura"><span class="cnt">E|-----5--5-5\\4-4\\2-2p0-0-2-2/4-----------|
B|----------------------------------------|
G|-4/6----6-6\\4-4\\2-2p1-1-2-2/4-----------|
D|----------------------------------------|
A|----------------------------------------|
E|----------------------------------------|</span></span>

Parte 2 De 3

<span class="tablatura"><span class="cnt">E|--5\\4-4\\2-2p0---0-0h2-------------------|
B|--------------2-------2-----------------|
G|--6\\4-4\\2-2p1---1-1h2-------------------|
D|--------------2-------2-----------------|
A|----------------------------------------|
E|----------------------------------------|</span></span>

Parte 3 De 3

<span class="tablatura"><span class="cnt">E|---0-0h2p0---0-0h2p0--------------------|
B|-2---------2---------3\\2--------7-------|
G|---1-1h2p1---1-1h2p1-----2--------------|
D|-2---------2---------4\\2-0--4/7---------|
A|----------------------------------------|
E|----------------------------------------|</span></span>

[Primeira Parte] 

<b>A9</b>
É
                      <b>C#m</b>
Já tá ficando chato, né
                         <b>F#m</b>
A encheção de saco, pois é
                               <b>D</b>
Prepara, que eu já tô me preparando

Enquanto cê tá indo

          <b>A9</b>
Eu to voltando
                               <b>E</b>
E todo esse caminho eu sei de cor

Se eu não me engano
                     <b>F#m</b>
Agora vai me deixar só
                              <b>D</b>
O segundo passo é não me atender
                        <b>B7</b>
O terceiro é se arrepender
                                 <b>E</b>
Se o que dói em mim doesse em você

[Refrão] 

<span class="tablatura">[Tab - Refrão]

   <b>A9</b>  <b>E</b>  <b>F#m</b>  <b>D</b> 
<span class="cnt">E|-4/5-4--2----0--------------------------|
B|----------------------------------------|
G|-5/6-4--2----1--------------------------|
D|----------------------------------------|
A|----------------------------------------|
E|----------------------------------------|</span></span>

 <b>A9</b>   
Deixa
                         <b>E</b>
Deixa mesmo de ser importante
                                <b>F#m</b>
Vai deixando a gente pra outra hora
                                 <b>D</b>
Vai tentar abrir a porta desse amor

Quando eu tiver jogado a chave fora

 <b>A9</b>   
Deixa
                         <b>E</b>
Deixa mesmo de ser importante
                                <b>F#m</b>
Vai deixando a gente pra outra hora
                              <b>D</b>
E quando se der conta, já passou
          <b>E</b> 
Quando olhar pra trás, já fui embora

[Solo] <b>A9</b>  <b>E</b>  <b>F#m</b>  <b>D</b>

[Tab - Solo]
 
Parte 1 De 3

<span class="tablatura"><span class="cnt">E|-----5--5-5\\4-4\\2-2p0-0-2-2/4-----------|
B|----------------------------------------|
G|-4/6----6-6\\4-4\\2-2p1-1-2-2/4-----------|
D|----------------------------------------|
A|----------------------------------------|
E|----------------------------------------|</span></span>

Parte 2 De 3

<span class="tablatura"><span class="cnt">E|--5\\4-4\\2-2p0---0-0h2-------------------|
B|--------------2-------2-----------------|
G|--6\\4-4\\2-2p1---1-1h2-------------------|
D|--------------2-------2-----------------|
A|----------------------------------------|
E|----------------------------------------|</span></span>

Parte 3 De 3

<span class="tablatura"><span class="cnt">E|---0-0h2p0---0-0h2p0------------5-------|
B|-2---------2---------3\\2----------------|
G|---1-1h2p1---1-1h2p1-----2--4/6---------|
D|-2---------2---------4\\2-0--------------|
A|----------------------------------------|
E|----------------------------------------|</span></span>

[Primeira Parte] 

<b>A9</b>                                <b>E</b>
   E todo esse caminho eu sei de cor

Se eu não me engano
                     <b>F#m</b>
Agora vai me deixar só
                              <b>D</b>
O segundo passo é não me atender
                        <b>B7</b>
O terceiro é se arrepender
                                 <b>E</b>
Se o que dói em mim doesse em você

[Refrão] 

 <b>A9</b>  
Deixa
                         <b>E</b>
Deixa mesmo de ser importante
                                <b>F#m</b>
Vai deixando a gente pra outra hora
                                 <b>D</b>
Vai tentar abrir a porta desse amor

Quando eu tiver jogado a chave fora

 <b>A9</b>   
Deixa
                         <b>E</b>
Deixa mesmo de ser importante
                                <b>F#m</b>
Vai deixando a gente pra outra hora
                              <b>D</b>
E quando se der conta, já passou
          <b>E</b> 
Quando olhar pra trás, já fui embora

[Solo Final] <b>A9</b>  <b>E</b>  <b>F#m</b>

[Tab - Solo Final] 

Parte 1 De 2

<span class="tablatura"><span class="cnt">E|-----5--5-5\\4-4\\2-2p0-0-2-2/4-----------|
B|----------------------------------------|
G|-4/6----6-6\\4-4\\2-2p1-1-2-2/4-----------|
D|----------------------------------------|
A|----------------------------------------|
E|----------------------------------------|</span></span>

Parte 2 De 2

<span class="tablatura"><span class="cnt">E|--5\\4-4\\2-2p0---0-0h2-------------------|
B|--------------2-------2-----------------|
G|--6\\4-4\\2-2p1---1-1h2-------------------|
D|--------------2-------2-----------------|
A|----------------------------------------|
E|----------------------------------------|</span></span>

                              <b>D</b>
E quando se der conta, já passou
          <b>E</b>                      <b>A</b>
Quando olhar pra trás, já fui embora

----------------- Acordes -----------------
A = P2 2 2 2
A9 = P2 4 2 2
B7 = 1 2 0 1
C#m = 2 1 2 2
D = 4 2 3 4
E = 2 1 0 2
F#m = 4 2 2 4`;

const [title, ...restOfCifra] = cifra.split("\n\n");
const chordsSectionIndex = restOfCifra.findIndex((line) =>
  line.includes("----------------- Acordes -----------------")
);
const mainCifra = restOfCifra.slice(0, chordsSectionIndex).join("\n\n");
const chords = restOfCifra.slice(chordsSectionIndex).join("\n\n");

export default function EuSeiDeCorPage() {

    // Convert HTML to structured data
  const cifraStructure = convertToStructure(
    mainCifra || "",
    title || "",
    "https://www.cifraclub.com.br/marilia-mendonca/eu-sei-de-cor/"
  );

  return (
    <>
      <CifraDisplay
        title={title || ""}
        cifraData={cifraStructure}
        // Fallback to old format if needed
        mainCifra={mainCifra || ""}
        chords={chords || ""}
      />
      <FloatingMenu />
    </>
  );
}
