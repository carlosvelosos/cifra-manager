import CifraDisplay from "@/components/cifra-display";
import FloatingMenu from "@/components/floating-menu";
import { convertToStructure } from "@/lib/parsers/cifra-converter";

// URL: https://www.cifraclub.com.br/cpm-22/nao-sei-viver-sem-ter-voce/

const cifra = `CPM 22 - Não Sei Viver Sem Ter Você

[Primeira Parte]

<b>E5</b>                 <b>G7M(13)</b>
   Não há mais desculpas
                          <b>D9(11)</b>
Você vai ter que me entender
                   <b>C7M</b>
Quando olhar pra trás
                     <b>A7(9)</b>
Procurando e não me ver
          <b>C7M</b>           <b>E5</b>
Chegou a hora de recomeçar

          <b>G7M(13)</b>           
Ter cada coisa em seu lugar
<b>D9(11)</b>           <b>C7M</b>
       Tentar viver sem recordar, jamais
<b>E5</b>            <b>G7M(13)</b>
   E se a saudade me deixar falhar
<b>D9(11)</b>           <b>C7M</b>
       Deixar o tempo tentar te apagar

[Segunda Parte]

<b>Bm6-(11)</b>                   <b>C9(11+)</b>
         Te ligar de madrugada
                   <b>G7M</b>   
Sem saber o que dizer
                     <b>D9(11)</b>
Esperando ouvir tua voz 
                   <b>Bm6-(11)</b>
E você nem me atender
        <b>C9(11+)</b>     <b>D9(11)</b> 
Nem ao menos pra dizer

[Refrão]

<span class="tablatura">[Tab - Frase Refrão]

<span class="cnt">E|------------------------------------------|
B|------------------------------------------|
G|--5/7--5--4-------------------------------|
D|------------------------------------------|
A|--3/5--3--2-------------------------------|
E|------------------------------------------|</span></span>

     <b>G</b> 
Que não vai voltar
            <b>D9(11)</b>
Não vai tentar me entender
                <b>C9</b>           <b>E5</b>
Que eu não fui nada pra você
            <b>C9</b>           Frase
Que eu deveria te deixar em paz

    <b>G</b>
Eu já não sei mais
           <b>D9(11)</b>
Não sei viver sem ter você
            <b>C9</b>             <b>E5</b>
Hoje eu queria te esquecer
            <b>C9</b>                     <b>D9(11)</b>
Mas quanto mais eu tento, mais eu lembro
<b>G</b>            <b>D9</b>            <b>C9</b>  <b>E5</b>  <b>C9</b>  <b>D9(11)</b>
  Não sei viver sem ter você
<b>G</b>            <b>D9</b>            <b>C9</b>  <b>E5</b>  <b>C9</b>  <b>D9(11)</b>
  Não sei viver sem ter você

[Terceira Parte]

<span class="tablatura">[Tab - Terceira Parte]

Parte 1 de 8
<span class="cnt">  H.N. . .   . . .   . . .   . . . 
E|------------------------------------------|
B|-------7-------7-------7-------7----------|
G|-----7-------7-------7-------7------------|
D|---7-------7-------7-------7--------------|
A|------------------------------------------|
E|-0-------0-------0-------0----------------|</span></span>

<span class="tablatura">Parte 2 de 8
<span class="cnt">  H.N. . .   . . .   . . .   . . . 
E|------------------------------------------|
B|-------7-------7-------7-------7----------|
G|-----7-------7-------7-------7------------|
D|---7-------7-------7-------7--------------|
A|------------------------------------------|
E|-3-------3-------3-------3----------------|</span></span>

<span class="tablatura">Parte 3 de 8
<span class="cnt">  H.N. . .   . . .   . . .   . . . 
E|------------------------------------------|
B|-------7-------7-------7-------7----------|
G|-----7-------7-------7-------7------------|
D|---7-------7-------7-------7--------------|
A|-5-------5-------5-------5----------------|
E|------------------------------------------|</span></span>

<span class="tablatura">Parte 4 de 8
<span class="cnt">  H.N. . .   . . .   . . .   . . . 
E|------------------------------------------|
B|-------5-------5-------5-------5----------|
G|-----5-------5-------5-------5------------|
D|---5-------5-------5-------5--------------|
A|-3-------3-------3-------3----------------|
E|------------------------------------------|</span></span>

<span class="tablatura">Parte 5 de 8
   <b>E5</b>
<span class="cnt">E|------------------------------------------|
B|------------------------------------------|
G|-------0-------0-------0-------0----------|
D|-----9-------9-------9-------9------------|
A|---7-------7-------7-------7--------------|
E|-0-------0-------0-------0----------------|</span></span>

<span class="tablatura">Parte 6 de 8 - 1/2
   <b>G7M(13)</b>
<span class="cnt">E|------------------------------------------|
B|----------0------------0------------------|
G|-------11-----------11--------------------|
D|----12-----------12-----------------------|
A|-10-----------10--------------------------|
E|------------------------------------------|</span></span>

Parte 6 de 8 - 2/2

<span class="tablatura"><span class="cnt">E|------------------------------------------|
B|----------0------------0------------------|
G|-------11-----------11--------------------|
D|----12-----------12-----------------------|
A|-10-----------10--------------------------|
E|------------------------------------------|</span></span>

<span class="tablatura">Parte 7 de 8
   <b>D7(4)</b>
<span class="cnt">E|------------------------------------------|
B|------------------------------------------|
G|---------0---------0--------0---------0---|
D|-------0---------0--------0---------0-----|
A|----12--------12-------12--------12-------|
E|-10--------10-------10--------10----------|</span></span>

<span class="tablatura">Parte 8 de 8
   <b>C2</b>
<span class="cnt">E|------------------------------------------|
B|------------------------------------------|
G|--------0--------0--------0--------0------|
D|------0--------0--------0--------0--------|
A|---10-------10-------10-------10----------|
E|-8--------8--------8--------8-------------|</span></span>


É difícil de aceitar

Recomeçar do zero

Levantar e caminhar
<b>Em7</b>                      <b>G7M(13)</b>  
    Perceber que quem se ama
                         <b>D4</b>
Já não se importa com você
             <b>C2</b>                         <b>A7(9)</b>
E acordar sozinho ouvindo o som da sua TV
          <b>C7M</b>           <b>E5</b>
Chegou a hora de recomeçar

       <b>G7M(13)</b>      <b>D9(11)</b>       <b>C7M</b>   
Acreditar que pode ser melhor assim
            <b>E5</b>
tentar crescer
          <b>G7M(13)</b>               <b>D9(11)</b>
Fingir feliz, te deixar para depois
                      <b>C7M</b>
A cada dia que eu morrer
                       <b>Bm6-(11)</b>
Espero que você morra dois

[Segunda Parte]

<b>Bm6-(11)</b>                      <b>C9(11+)</b>
         Se eu ligar de madrugada
                   <b>G7M</b>   
Sem saber o que dizer
                     <b>D9(11)</b>
Esperando ouvir sua voz 
                   <b>Bm6-(11)</b>
E você nem me atender
        <b>C9(11+)</b>     <b>D9(11)</b> 
Nem ao menos pra dizer

[Refrão Final]

     <b>G</b> 
Que não vai voltar
            <b>D9(11)</b>
Não vai tentar me entender
                <b>C9</b>           <b>E5</b>
Que eu não fui nada pra você
            <b>C9</b>           Frase
Que eu deveria te deixar em paz

    <b>G</b>
Eu já não sei mais
           <b>D9(11)</b>
Não sei viver sem ter você
            <b>C9</b>             <b>E5</b>
Hoje eu queria te esquecer
            <b>C9</b>                     <b>D9(11)</b>
Mas quanto mais eu tento, mais eu lembro
<b>G</b>            <b>D9(11)</b>        <b>C9</b>  <b>E5</b>  <b>C9</b>  <b>D9(11)</b>
  Não sei viver sem ter você
<b>G</b>            <b>D9(11)</b>        <b>C9</b>  <b>E5</b>  <b>C9</b>  <b>D9(11)</b>
  Não sei viver sem ter você

<b>G</b>                 <b>D9(11)</b>
  Preciso reaprender
     <b>C9</b>
A viver
    <b>E5</b>    <b>C9</b>
Pra esquecer
           <b>D9(11)</b>  <b>G</b>  <b>D9(11)</b>  <b>C9</b>  <b>E5</b>  
Pra te esque______cer
<b>C9</b>      <b>D9(11)</b>  <b>G</b>  
   Pra te esquecer!

----------------- Acordes -----------------
A7(9) = 5 X 5 4 2 X
C2 = X 3 5 5 3 3
C7M = X 3 2 0 0 X
C9 = X 3 5 5 3 3
C9(11+) = X 3 2 0 3 2
D4 = X X 0 2 3 3
D7(4) = X X 0 2 1 3
D9 = X X 0 2 3 0
D9(11) = X 5 4 0 3 0
E5 = 0 2 2 X X X
Em7 = 0 2 2 0 3 0
G = 3 2 0 0 0 3
G7M = 3 X 4 4 3 X
G7M(13) = 3 X 4 4 5 X`;

const [title, ...restOfCifra] = cifra.split("\n\n");
const chordsSectionIndex = restOfCifra.findIndex((line) =>
  line.includes("----------------- Acordes -----------------")
);
const mainCifra = restOfCifra.slice(0, chordsSectionIndex).join("\n\n");
const chords = restOfCifra.slice(chordsSectionIndex).join("\n\n");

export default function NaoSeiViverSemTerVocePage() {

    // Convert HTML to structured data
  const cifraStructure = convertToStructure(
    mainCifra || "",
    title || "",
    "https://www.cifraclub.com.br/cpm-22/nao-sei-viver-sem-ter-voce/"
  );

  return (
    <>
      <CifraDisplay
        title={title || ""}
        cifraData={cifraStructure}
        // Fallback to old format if needed
        mainCifra={mainCifra || ""}
        chords={chords || ""}
      />
      <FloatingMenu />
    </>
  );
}
