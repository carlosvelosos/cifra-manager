import CifraDisplay from "@/components/cifra-display";
import FloatingMenu from "@/components/floating-menu";
import { convertToStructure } from "@/lib/parsers/cifra-converter";
// URL: https://www.cifraclub.com.br/natiruts/sorri-sou-rei/

const cifra = `Natiruts - Sorri, Sou Rei

[Intro] <b>Dm7</b>  <b>G</b>  <b>Am7</b> 
        <b>Dm7</b>  <b>G</b>  <b>Am7</b> 
        <b>Dm7</b>  <b>G</b>  <b>Am7</b> 
        <b>Dm7</b>  <b>G</b>  <b>Am7</b> 

<span class="tablatura">[Tab - Intro]

Parte 1 de 3
    <b>Dm7</b>
<span class="cnt">E|--------------------------------------------|
B|--------5---------6/8\6---5h6p5-------------|
G|-----5-----5------7/9\7---5h7p5-------------|
D|--7-----------7-----------------------------|
A|--------------------------------------------|
E|--------------------------------------------|</span></span>

<span class="tablatura">Parte 2 de 3
    <b>G</b>
<span class="cnt">E|--------------------------------------------|
B|--------3---------6/8\6---5h6p5-------------|
G|-----4-----4------7/9\7---5h7p5-------------|
D|--5-----------5-----------------------------|
A|--------------------------------------------|
E|--------------------------------------------|</span></span>

<span class="tablatura">Parte 3 de 3
   <b>Am7</b>
<span class="cnt">E|-------------------------------------------|
B|-----5---------------------5---------------|
G|---5---5----4-5----------5---5---4-5-------|
D|-7-------7------7-x-x--7-------7-----7-x-x-|
A|-------------------------------------------|
E|-------------------------------------------|</span></span>

[Primeira Parte]

<b>Dm7</b>
    Quando a esperança 
              <b>G</b>
De uma noite de amor
         <b>Am7</b>
Lhe trouxer vontade 

Para viver mais

<b>Dm7</b>
    E a promessa que 
          <b>G</b>
A chance terminou
     <b>Am7</b>
É bobagem 

É melhor deixar pra trás

[Segunda Parte]

          <b>Dm7</b>
Eu tô cansado de sofrer
          <b>G</b>
Quero dançar, sentir calor
     <b>Am7</b>
E poder só olhar 
 
O universo em torno de você

              <b>Dm7</b>
Brilhando em vida
            <b>G</b>
Sorrindo à toa
              <b>Am7</b>
Só vibrando amor e paz

         <b>Dm7</b>               <b>G</b>
Sinto a noite, penso em você
               <b>Am7</b>
Lembro como é bom amar

[Refrão]


Quando você se foi
    <b>Dm7</b>     <b>G</b>       <b>Am7</b>
Chorei, chorei, chorei

Agora que voltou
    <b>Dm7</b>    <b>G</b>       <b>Am7</b>
Sorri, sorri, sou rei


Quando você se foi
    <b>Dm7</b>     <b>G</b>       <b>Am7</b>
Chorei, chorei, chorei

Agora que voltou
    <b>F</b>      <b>G</b>       <b>Am7</b>
Sorri, sorri, sou rei

[Passagem] <b>Am</b>  <b>Am7(11)</b>

<span class="tablatura">[Tab - Passagem]

Parte 1 de 4
    <b>Am</b>
<span class="cnt">E|-------------------------------------------|
B|-------------------------------------------|
G|-------------------------------------------|
D|-------------------------------------------|
A|-------------------------------------------|
E|--5-x-5-5-x-x---5-x-5-5-x-x---5-x-5-5------|</span></span>

<span class="tablatura">Parte 2 de 4
                       <b>Am7(11)</b>
<span class="cnt">E|---------------------0---------------------|
B|---------------------3---------------------|
G|---------------------5---------------------|
D|---------------------5---------------------|
A|--------3-5/7-3---0------------------------|
E|--3-5--------------------------------------|</span></span>

Parte 3 de 4

<span class="tablatura"><span class="cnt">E|----------0------------------0-------------|
B|----------3------------------3-------------|
G|----------5------------------5-------------|
D|----------5------------------5-------------|
A|-------0------------------0----------------|
E|--0-3------------0-3-0-3-------------------|</span></span>

Parte 4 de 4

<span class="tablatura"><span class="cnt">E|-------------------------------------------|
B|-------------------------------------------|
G|-------------------------------------------|
D|-------------------------------------------|
A|-------3-5/7-3-----------------------------|
E|--3-5--------------------------------------|</span></span>

[Terceira Parte]

<span class="tablatura">[Tab - Riff Final]

Parte 1 de 4
    <b>Bb7M</b>               <b>A7</b>
<span class="cnt">E|-------------------------------------------|
B|-------------------------------------------|
G|--------7--------7---------6--------6------|
D|-----7--------7---------5--------5---------|
A|-------------------------------------------|
E|--6--------6---------5--------5------------|</span></span>

<span class="tablatura">Parte 2 de 4
    <b>Dm7(9)</b>
<span class="cnt">E|-------------------------------------------|
B|-------------------------------------------|
G|--------5--------5--------5--------5-------|
D|-----3--------3--------3--------3----------|
A|--5--------5--------5--------5-------------|
E|-------------------------------------------|</span></span>

<span class="tablatura">Parte 3 de 4
    <b>Bb7M</b>               <b>A7</b>
<span class="cnt">E|-------------------------------------------|
B|--------6--------6---------5--------5------|
G|-----7--------7---------6--------6---------|
D|-----7--------7---------5--------5---------|
A|-------------------------------------------|
E|--6--------6---------5--------5------------|</span></span>

<span class="tablatura">Parte 4 de 4
    <b>Dm7(9)</b>
<span class="cnt">E|-------------------------------------------|
B|--------5--------5--------5--------5-------|
G|-----5--------5--------5--------5----------|
D|-----3--------3--------3--------3----------|
A|--5--------5--------5--------5-------------|
E|-------------------------------------------|</span></span>

<b>Bb7M</b>
     Saiba que o simples 
                 <b>A7</b>
Perfume de uma flor
      <b>Dm7(9)</b>
Pode vir a ser 

Um grande amor na sua vida

<b>Bb7M</b>
     Não gaste palavras 
  <b>A7</b>
Pra viver
       <b>Dm7(9)</b>
De iludir os seus sonhos

Tão raros com mentiras

<b>Bb7M</b>                     <b>A7</b>
     Não maltrate o coração
             <b>Dm7(9)</b>
De quem dedicou 

O seu sorriso as suas batidas

<b>Bb7M</b>                      <b>A7</b>
     E será livre pra sentir
                     <b>Dm7(9)</b>
Os sonhos de uma paixão
    <b>A7</b>
Nascer uma história linda

[Quarta Parte]

 <b>Dm7</b>
Diga que me adora
 <b>Bb7</b>                <b>A7</b>
Deixa o orgulho de lado
        <b>Dm7</b>
Porque já está na hora
    <b>Bb7</b>            <b>A7</b>
Da gente se encontrar
            <b>Dm7</b>
E sermos um


Mas não demora 
  <b>Bb7</b>
Que é pra chama 
    <b>A7</b>          <b>Dm7</b>
Não    desencantar
 <b>Bb7</b>   <b>A7</b>    <b>Gm</b>
Se esvair no ar 
   <b>C</b>                <b>F</b>
E só restar lembranças 

[Segunda Parte]

          <b>Dm7</b>
Eu tô cansado de sofrer
          <b>G</b>
Quero dançar, sentir calor
     <b>Am7</b>
E poder só olhar 
 
O universo em torno de você

              <b>Dm7</b>
Brilhando em vida
            <b>G</b>
Sorrindo à toa
              <b>Am7</b>
Só vibrando amor e paz

        <b>Dm7</b>
Vejo a lua
           <b>G</b>
Lembro do sonho
            <b>Am7</b>
Torço pra realizar

         <b>Dm7</b>               <b>G</b>
Sinto a noite, penso em você
               <b>Am7</b>
Lembro como é bom amar

[Refrão]


Quando você se foi
    <b>Dm7</b>     <b>G</b>       <b>Am7</b>
Chorei, chorei, chorei

Agora que voltou
    <b>Dm7</b>    <b>G</b>       <b>Am7</b>
Sorri, sorri, sou rei


Quando você se foi
    <b>Dm7</b>     <b>G</b>       <b>Am7</b>
Chorei, chorei, chorei

Agora que voltou
    <b>F</b>      <b>G</b>       <b>Am7</b>
Sorri, sorri, sou rei

[Final] <b>Dm7</b>  <b>G</b>  <b>Am7</b> 
        <b>Dm7</b>  <b>G</b>  <b>Am7</b> 
        <b>Dm7</b>  <b>G</b>  <b>Am7</b> 
        <b>Dm7</b>  <b>G</b>  <b>Am7</b> 
        <b>Dm7</b>  <b>G</b>  <b>Am7</b>

<span class="tablatura">[Tab - Final]

Parte 1 de 3
    <b>Dm7</b>
<span class="cnt">E|--------------------------------------------|
B|--------5---------6/8\6---5h6p5-------------|
G|-----5-----5------7/9\7---5h7p5-------------|
D|--7-----------7-----------------------------|
A|--------------------------------------------|
E|--------------------------------------------|</span></span>

<span class="tablatura">Parte 2 de 3
    <b>G</b>
<span class="cnt">E|--------------------------------------------|
B|--------3---------6/8\6---5h6p5-------------|
G|-----4-----4------7/9\7---5h7p5-------------|
D|--5-----------5-----------------------------|
A|--------------------------------------------|
E|--------------------------------------------|</span></span>

<span class="tablatura">Parte 3 de 3
   <b>Am7</b>
<span class="cnt">E|-------------------------------------------|
B|-----5---------------------5---------------|
G|---5---5----4-5----------5---5---4-5-------|
D|-7-------7------7-x-x--7-------7-----7-x-x-|
A|-------------------------------------------|</span></span>
E|-------------------------------------------|

----------------- Acordes -----------------
A7 = X 0 2 0 2 0
Am = X 0 2 2 1 0
Am7 = 5 7 5 5 5 5
Am7(11) = X 0 5 5 3 X
Bb7 = 6 8 6 7 6 6
Bb7M = 6 X 7 7 6 X
C = X 3 P5 P5 P5 X
Dm7 = X 5 7 5 6 5
Dm7(9) = X 5 3 5 5 X
F = 1 3 3 2 1 1
G = 3 5 5 4 3 3
Gm = 3 5 5 3 3 3`;

const [title, ...restOfCifra] = cifra.split("\n\n");
const chordsSectionIndex = restOfCifra.findIndex((line) =>
  line.includes("----------------- Acordes -----------------")
);
const mainCifra = restOfCifra.slice(0, chordsSectionIndex).join("\n\n");
const chords = restOfCifra.slice(chordsSectionIndex).join("\n\n");

export default function SorriSouReiPage() {

    // Convert HTML to structured data
  const cifraStructure = convertToStructure(
    mainCifra || "",
    title || "",
    "https://www.cifraclub.com.br/natiruts/sorri-sou-rei/"
  );

  return (
    <>
      <CifraDisplay
        title={title || ""}
        cifraData={cifraStructure}
        // Fallback to old format if needed
        mainCifra={mainCifra || ""}
        chords={chords || ""}
      />
      <FloatingMenu />
    </>
  );
}
