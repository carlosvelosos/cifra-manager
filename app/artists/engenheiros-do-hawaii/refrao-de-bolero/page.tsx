import CifraDisplay from "@/components/cifra-display";
import FloatingMenu from "@/components/floating-menu";
import { convertToStructure } from "@/lib/parsers/cifra-converter";

// URL: https://www.cifraclub.com.br/engenheiros-do-hawaii/refrao-de-bolero/

const cifra = `Engenheiros do Hawaii - Refrão de Bolero

[Intro] <b>G</b>  <b>A</b>

<span class="tablatura">   <b>G</b>      <b>A</b>
<span class="cnt">E|------------------------------------------|
B|-3-2-0--3-2-0-----------------------------|
G|-0------2---------------------------------|
D|-0------2---------------------------------|
A|--------0---------------------------------|
E|-3----------------------------------------|</span></span>

[Primeira Parte]

<b>Bm</b>                   <b>F#m</b>
Eu que falei nem pensar
  <b>G</b>                  <b>E/G#</b>
Agora me arrependo roendo as unhas
  <b>A</b>
Frágeis testemunhas
        <b>A#°</b>
De um crime sem perdão

    <b>Bm</b>               <b>F#m</b>
Mas eu falei sem pensar
 <b>G</b>                         <b>E/G#</b>
Coração na mão, como o refrão de um bolero
           <b>A</b>
Eu fui sincero
                  <b>A#°</b>
Como não se pode ser

   <b>Bm</b>                 <b>F#m</b>
Um erro assim tão vulgar
 <b>G</b>
Nos persegue a noite inteira
    <b>E/G#</b>
E quando acaba a bebedeira
  <b>A</b>                 <b>A#°</b>
Ele consegue nos achar

     <b>Bm</b>  <b>F#m</b>
Num bar
        <b>G</b>
Com um vinho barato
      <b>E/G#</b>
Um cigarro no cinzeiro
       <b>A</b>                    <b>A#°</b>
E uma cara embriagada no espelho do banheiro

[Refrão]

      <b>G</b>          <b>A</b>        <b>Bm</b>  
Teus lábios são labirintos
       <b>G</b>               <b>A</b>             <b>Bm</b>  
Que atraem os meus instintos mais sacanas
 <b>G</b>                   <b>A</b>                 <b>Bm</b>
Teu olhar sempre distante sempre me engana
   <b>G</b>                    <b>A</b>          <b>Bm</b>  <b>F#m</b>  <b>G</b>  <b>A</b>
Eu entro sempre na tua dança de cigana

[Primeira Parte]

<b>Bm</b>                   <b>F#m</b>
Eu que falei nem pensar
  <b>G</b>                  <b>E/G#</b>
Agora me arrependo roendo as unhas
  <b>A</b>
Frágeis testemunhas
        <b>A#°</b>
De um crime sem perdão
    <b>Bm</b>               <b>F#m</b>
Mas eu falei sem pensar
 <b>G</b>                         <b>E/G#</b>
Coração na mão, como o refrão de um bolero
           <b>A</b>        <b>A#°</b>
Eu fui sincero, eu fui sincero

[Refrão]

      <b>G</b>          <b>A</b>         <b>Bm</b>   
Teus lábios são labirintos
       <b>G</b>               <b>A</b>             <b>Bm</b>     
Que atraem os meus instintos mais sacanas
 <b>G</b>                   <b>A</b>                 <b>Bm</b>
Teu olhar sempre distante sempre me engana
     <b>G</b>                 <b>A</b>        <b>Bm</b>   
É o fim do mundo todo dia da semana

[Solo] <b>G</b>  <b>A</b>  <b>Bm</b>
       <b>G</b>  <b>A</b>  <b>Bm</b>
       <b>G</b>  <b>A</b>  <b>Bm</b>
       <b>G</b>  <b>A</b>  <b>Bm</b>

Parte 1 de 6

<span class="tablatura">             <b>G</b>        <b>A</b>         <b>Bm</b>
<span class="cnt">E|------------------------------------------|
B|------------------------------------------|
G|------------------------------------------|
D|----------------------------------7h9-9~--|
A|---------5------5-7b8r7-7-7-7-7/9---------|
E|-5-5-5h7---7~-7---------------------------|</span></span>

Parte 2 de 6

<span class="tablatura">               <b>G</b>                       
<span class="cnt">E|------------------------------------------|
B|----------------10-10-10-10-10-10-10------|
G|-------7-7-9/11-11-11-11-11-11-11-11------|
D|-7-7-9------------------------------------|
A|------------------------------------------|
E|------------------------------------------|</span></span>

<span class="tablatura">   <b>A</b> 
<span class="cnt">E|------------------------------------------|
B|------------------------------------------|
G|-11p9\7-9-9-------------------------------|
D|------------------------------------------|
A|------------------------------------------|
E|------------------------------------------|</span></span>

Parte 3 de 6

<span class="tablatura">             <b>Bm</b>
<span class="cnt">E|------------------------------------------|
B|------------------------------------------|
G|-9-9-7------------------------------------|
D|-------9-7-9-9--7h9p7---7-----------------|
A|----------------------9---9-8-7~----------|
E|------------------------------------------|</span></span>

Parte 4 de 6

<span class="tablatura">       <b>G</b>             <b>A</b>
<span class="cnt">E|-----------------------------10-----------|
B|--------------7-10/12--10-12----12--------|
G|---------7--9-----------------------------|
D|-----7-9----------------------------------|
A|-7/9--------------------------------------|
E|------------------------------------------|</span></span>

Parte 5 de 6
                             
<span class="tablatura">   <b>Bm</b>
<span class="cnt">E|-12b14-14-14-14-14-14-14-14r13-13-13r12-12|
B|------------------------------------------|
G|------------------------------------------|
D|------------------------------------------|
A|------------------------------------------|
E|------------------------------------------|</span></span>

                                          
<span class="tablatura"><span class="cnt">E|-12h10-12-10------------------------------|
B|-------------12~--------------------------|
G|------------------------------------------|
D|------------------------------------------|
A|------------------------------------------|
E|------------------------------------------|</span></span>

Parte 6 de 6

<span class="tablatura">         <b>G</b>            <b>A</b>           <b>Bm</b>
<span class="cnt">E|----10----10------------------------------|
B|-12----12-----10-10-10-10--7-7--7---------|
G|--------------11-11-11-11--7-7--7---------|
D|-----------------------------------7-9-9~-|
A|------------------------------------------|
E|------------------------------------------|</span></span>

[Refrão]

      <b>G</b>          <b>A</b>         <b>Bm</b>      
Teus lábios são labirintos
       <b>G</b>               <b>A</b>             <b>Bm</b>    
Que atraem os meus instintos mais sacanas
 <b>G</b>                   <b>A</b>                 <b>Bm</b>
Teu olhar sempre distante sempre me engana
     <b>G</b>                 <b>A</b>        <b>Bm</b>  <b>F#m</b>  <b>G</b>  <b>A</b>  <b>Bm</b>
É o fim do mundo todo dia da semana

----------------- Acordes -----------------
A = X 0 2 2 2 0
A#° = X 1 2 0 2 0
Bm = X 2 4 4 3 2
E/G# = 4 X 2 4 5 X
F#m = 2 4 4 2 2 2
G = 3 2 0 0 0 3`;

const [title, ...restOfCifra] = cifra.split("\n\n");
const chordsSectionIndex = restOfCifra.findIndex((line) =>
  line.includes("----------------- Acordes -----------------")
);
const mainCifra = restOfCifra.slice(0, chordsSectionIndex).join("\n\n");
const chords = restOfCifra.slice(chordsSectionIndex).join("\n\n");

export default function RefraoDeBoleroPage() {

    // Convert HTML to structured data
  const cifraStructure = convertToStructure(
    mainCifra || "",
    title || "",
    "https://www.cifraclub.com.br/engenheiros-do-hawaii/refrao-de-bolero/"
  );

  return (
    <>
      <CifraDisplay
        title={title || ""}
        cifraData={cifraStructure}
        // Fallback to old format if needed
        mainCifra={mainCifra || ""}
        chords={chords || ""}
      />
      <FloatingMenu />
    </>
  );
}
