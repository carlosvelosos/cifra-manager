import CifraDisplay from "@/components/cifra-display";
import FloatingMenu from "@/components/floating-menu";
import { convertToStructure } from "@/lib/parsers/cifra-converter";

// URL: https://www.cifraclub.com.br/mumuzinho/fulminante/

const cifra = `Mumuzinho - Fulminante

[Intro] <b>E9</b>  <b>F#/E</b>  <b>E9</b>  <b>A/E</b>  <b>A</b>


<span class="tablatura">[Tab - Intro]

Parte 1 de 2
   <b>E9</b>       <b>F#/E</b>
<span class="cnt">E|---------------------------------------------|
B|-0--------2---2--2----2---2--2-----2---------|
G|-1--------3---3--3----3---3--3-----3---------|
D|-4--------4---4--4----4---4----4-------------|
A|---------------------------------------------|
E|-0--------0--------0------0------0-----------|</span></span>

<span class="tablatura">Parte 2 de 2
   <b>E9</b>       <b>A/E</b>             <b>A</b>
<span class="cnt">E|---------------------------------------------|
B|-0--------2---2--2----2---2------------------|
G|-1--------2---2--2----2---2------------------|
D|-4--------2---2--2----2---2------------------|
A|--------------------------0------------------|
E|-0--------0--------0-------------------------|</span></span>


<span class="tablatura">[Tab - Riff Intro]

<span class="cnt">E|-------------------4--2----------------------|
B|-----2---0-------0---------------------------|
G|---2-------1---------------------------------|
D|-2-----4-------------------------------------|
A|---------------------------------------------|
E|---------------------------------------------|</span></span>

Parte 2 de 2

<span class="tablatura"><span class="cnt">E|-------------------0--4----7--5--------------|
B|-----2---0-------0------4--------------------|
G|---2-------1---------------------------------|
D|-2-----4-------------------------------------|
A|---------------------------------------------|
E|---------------------------------------------|</span></span>


<span class="tablatura">[Tab - Primeira Parte]

Parte 1 de 4
   <b>E9</b>
<span class="cnt">E|---------------------------------------------|
B|-0---0---0---0-------------------------------|
G|-2---2---2------2----------------------------|
D|-4-4---4-4-4------4--------------------------|
A|---------------------------------------------|
E|-0-------0-----------------------------------|</span></span>

<span class="tablatura">Parte 2 de 4
   <b>A2</b>
<span class="cnt">E|---------------------------------------------|
B|-0---0---0---0-------------------------------|
G|-2---2---2------2----------------------------|
D|-2-2---2-2-2------2--------------------------|
A|-0-------0-----------------------------------|
E|---------------------------------------------|</span></span>

<span class="tablatura">Parte 3 de 4
   <b>E9</b>
<span class="cnt">E|---------------------------------------------|
B|-0---0---0---0-------------------------------|
G|-2---2---2------2----------------------------|
D|-4-4---4-4-4------4--------------------------|
A|---------------------------------------------|
E|-0-------0-----------------------------------|</span></span>

<span class="tablatura">Parte 4 de 4
   <b>A2</b>       <b>Cº</b>       <b>C#m7</b>         <b>C#m/B</b>
<span class="cnt">E|---------------------------------------------|
B|-0---0----4---4----5---5----5---5------------|
G|-2---2----2---2----4---4----4---4------------|
D|-2-2---2--4-4---4--6-6---6--6---6------------|
A|-0--------3--------4--------4----------------|
E|--------------------------------7------------|</span></span>


[Primeira Parte]

<b>E9</b>
Eu amei
     <b>A2</b>
Nem sempre se calcula o risco
                <b>E9</b>
Mesmo assim, eu amei
    <b>A2</b>                <b>Cº</b>
Desperdicei tanto sorriso
                 <b>C#m7</b>  <b>C#m/B</b>
Mas no fim, eu chorei


<span class="tablatura">[Tab - Segunda Parte]

Parte 1 de 7
   <b>A2</b>                       <b>B7(4/9)</b>
<span class="cnt">E|----0-----------0-------------2--------------|
B|-0--0--0--0--0--0-----0---2---2---2--2-------|
G|-2--2--2--2--2----2---2---2---2---2--2-------|
D|-2-----2--2--2------------2-------2--2-------|
A|-0-----------0--------------2-----2----------|
E|-------0------------0------------------------|</span></span>

<span class="tablatura">Parte 1 de 7 (variação)
   <b>A2</b>                      <b>B7(4/9)</b>
<span class="cnt">E|---0-----------0-------------2--------------|
B|---0--0--0--0--0-----0---2---2---2--2-------|
G|---2--2--2--2----2---2---2---2---2--2-------|
D|------2--2--2------------2-------2--2-------|
A|-0----------0--------------2-----2----------|
E|------0------------0------------------------|</span></span>

<span class="tablatura">Parte 2 de 7
   <b>B/A</b>         <b>G#m7</b>                       <b>C#m7</b>
<span class="cnt">E|-----------------4---------------------------|
B|-4--4-----4--4---4---4--4--4--4------4--5----|
G|-4--4-----4--4---4---4--4--4--4------4--4----|
D|-4----4------4-------4--4--4----4-------6----|
A|-0------0------------------------------------|
E|---------------4-----4-----4------4----------|</span></span>

<span class="tablatura">Parte 3 de 7
              <b>B2</b>          <b>A2</b>
<span class="cnt">E|---4------------------------0----------------|
B|---5--5--5--2--2-----2--0---0--0--0----------|
G|---4--4--4--4--4-----4--2---2--2--2----------|
D|------6--6--4----4------2------2--2----------|
A|-4----------2-------------0------------------|
E|------4------------2-----------0-------------|</span></span>

<span class="tablatura">Parte 4 de 7
   <b>A2</b>          <b>B7(4/9)</b>
<span class="cnt">E|----0------------2---------------------------|
B|-0--0-----0--2---2---2--2--------------------|
G|-2----2---2--2---2---2--2--------------------|
D|-2-----------2-------2--2--------------------|
A|-0------0------2-----2-----------------------|
E|---------------------------------------------|</span></span>

<span class="tablatura">Parte 5 de 7
   <b>B/A</b>         <b>G#m7</b>                       <b>C#m7</b>
<span class="cnt">E|-----------------4---------------------------|
B|-4--4-----4--4---4---4--4--4--4------4--5----|
G|-4--4-----4--4---4---4--4--4--4------4--4----|
D|-4----4------4-------4--4--4----4-------6----|
A|-0------0------------------------------------|
E|---------------4-----4-----4------4----------|</span></span>

<span class="tablatura">Parte 6 de 7
              <b>B2</b>          <b>A2</b>   <b>E/G#</b>  <b>F#m7</b>
<span class="cnt">E|---4-----------------------------------------|
B|---5--5--5--2--2-----2--0----5-----2---------|
G|---4--4--4--4--4-----4--2----4-----2---------|
D|------6--6--4----4------2----2-----2---------|
A|-4----------2-----------0--------------------|
E|------4------------2---------4-----2---------|</span></span>

<span class="tablatura">Parte 7 de 7
   <b>B7(4/9)</b>  <b>E7(4/9)</b>
<span class="cnt">E|----------2----------------------------------|
B|-2--------3----------------------------------|
G|-2--------2----------------------------------|
D|-2-------------------------------------------|
A|-2-------------------------------------------|
E|----------0----------------------------------|</span></span>


[Segunda Parte]

               <b>A2</b>
Mas deixa eu chorar
                     <b>B7(4/9)</b>
Eu posso me virar sozinho
    <b>B/A</b>             <b>G#m7</b>
Eu sobrevivo sem carinho
                   <b>C#m7</b>  <b>B2</b>  <b>A2</b>
Pra ninguém me machucar
                  <b>B7(4/9)</b>
Eu ando desacreditado
    <b>B/A</b>                 <b>G#m7</b>
O amor passou e fez estrago
                    <b>C#m7</b>  
E o melhor é me fechar

( <b>B2</b>  <b>A2</b>  <b>E/G#</b>  <b>F#m7</b> )

       <b>B7(4/9)</b>  <b>E7(4/9)</b>
Me fechar


<span class="tablatura">[Tab - Refrão]

Parte 1 de 6
   <b>A2</b>                       <b>B7(4/9)</b>
<span class="cnt">E|----0-----------0-------------2--------------|
B|-0--0--0--0--0--0-----0---2---2---2--2-------|
G|-2--2--2--2--2----2---2---2---2---2--2-------|
D|-2-----2--2--2------------2-------2--2-------|
A|-0-----------0--------------2-----2----------|
E|-------0------------0------------------------|</span></span>

<span class="tablatura">Parte 2 de 6
   <b>B/A</b>         <b>G#m7</b>                       <b>C#m7</b>
<span class="cnt">E|-----------------4---------------------------|
B|-4--4-----4--4---4---4--4--4--4------4--5----|
G|-4--4-----4--4---4---4--4--4--4------4--4----|
D|-4----4------4-------4--4--4----4-------6----|
A|-0------0------------------------------------|
E|---------------4-----4-----4------4----------|</span></span>

<span class="tablatura">Parte 3 de 6
              <b>B2</b>          <b>A2</b>
<span class="cnt">E|---4------------------------0----------------|
B|---5--5--5--2--2-----2--0---0--0--0----------|
G|---4--4--4--4--4-----4--2---2--2--2----------|
D|------6--6--4----4------2------2--2----------|
A|-4----------2-------------0------------------|
E|------4------------2-----------0-------------|</span></span>

<span class="tablatura">Parte 4 de 6
   <b>A2</b>          <b>B7(4/9)</b>
<span class="cnt">E|----0------------2---------------------------|
B|-0--0-----0--2---2---2--2--------------------|
G|-2----2---2--2---2---2--2--------------------|
D|-2-----------2-------2--2--------------------|
A|-0------0------2-----2-----------------------|
E|---------------------------------------------|</span></span>

<span class="tablatura">Parte 5 de 6
   <b>B/A</b>         <b>G#m7</b>                       <b>C#m7</b>
<span class="cnt">E|-----------------4---------------------------|
B|-4--4-----4--4---4---4--4--4--4------4--5----|
G|-4--4-----4--4---4---4--4--4--4------4--4----|
D|-4----4------4-------4--4--4----4-------6----|
A|-0------0------------------------------------|
E|---------------4-----4-----4------4----------|</span></span>

<span class="tablatura">Parte 6 de 6
              <b>B2</b>          <b>A2</b>             <b>B7(4/9)</b>
<span class="cnt">E|---4------------------------0----------------|
B|---5--5--5--2--2-----2--0---0--0--0-----2----|
G|---4--4--4--4--4-----4--2---2--2--2-----2----|
D|------6--6--4----4------2------2--2-----2----|
A|-4----------2-------------0-------------2----|
E|------4------------2-----------0-------------|</span></span>


[Refrão]

 <b>A2</b>
Aí você vem, me deu proteção
    <b>B7(4/9)</b>
Baixou minha guarda
                <b>B/A</b>
Mexeu com a emoção
   <b>G#m7</b>
Tiro fulminante no meu coração
   <b>C#m7</b>    <b>B2</b>
Já era, já era
    <b>A2</b>
O amor quando cerca

Não dá pra correr
     <b>B7(4/9)</b>
Pode até ferir
                <b>B/A</b>
Mas eu quero viver
    <b>G#m7</b>
Eu corro esse risco se for com você
   <b>C#m7</b>    <b>B2</b>      <b>A2</b>  <b>B7(4/9)</b>
Já era, já era o amor


[Primeira Parte]

<b>E9</b>
Eu amei
     <b>A2</b>
Nem sempre se calcula o risco
                <b>E9</b>
Mesmo assim, eu amei
    <b>A2</b>                <b>Cº</b>
Desperdicei tanto sorriso
                 <b>C#m7</b>   <b>C#m/B</b>
Mas no fim, eu chorei


[Segunda Parte]

               <b>A2</b>
Mas deixa eu chorar
                     <b>B7(4/9)</b>
Eu posso me virar sozinho
    <b>B/A</b>             <b>G#m7</b>
Eu sobrevivo sem carinho
                   <b>C#m7</b>  <b>B2</b>  <b>A2</b>
Pra ninguém me machucar
                  <b>B7(4/9)</b>
Eu ando desacreditado
    <b>B/A</b>                 <b>G#m7</b>
O amor passou e fez estrago
                    <b>C#m7</b>  
E o melhor é me fechar

( <b>B2</b>  <b>A2</b>  <b>E/G#</b>  <b>F#m7</b> )

       <b>B7(4/9)</b>  <b>E7(4/9)</b>
Me fechar


<span class="tablatura">[Tab - Refrão Final]

Parte 1 de 14
   <b>A2</b>                       <b>B7(4/9)</b>
<span class="cnt">E|----0-----------0-------------2--------------|
B|-0--0--0--0--0--0-----0---2---2---2--2-------|
G|-2--2--2--2--2----2---2---2---2---2--2-------|
D|-2-----2--2--2------------2-------2--2-------|
A|-0-----------0--------------2-----2----------|
E|-------0------------0------------------------|</span></span>

<span class="tablatura">Parte 2 de 14
   <b>B/A</b>         <b>G#m7</b>                       <b>C#m7</b>
<span class="cnt">E|-----------------4---------------------------|
B|-4--4-----4--4---4---4--4--4--4------4--5----|
G|-4--4-----4--4---4---4--4--4--4------4--4----|
D|-4----4------4-------4--4--4----4-------6----|
A|-0------0------------------------------------|
E|---------------4-----4-----4------4----------|</span></span>

<span class="tablatura">Parte 3 de 14
              <b>B2</b>          <b>A2</b>
<span class="cnt">E|---4------------------------0----------------|
B|---5--5--5--2--2-----2--0---0--0--0----------|
G|---4--4--4--4--4-----4--2---2--2--2----------|
D|------6--6--4----4------2------2--2----------|
A|-4----------2-------------0------------------|
E|------4------------2-----------0-------------|</span></span>

<span class="tablatura">Parte 4 de 14
               <b>B7(4/9)</b>
<span class="cnt">E|----0------------2---------------------------|
B|-0--0-----0--2---2---2--2--------------------|
G|-2----2---2--2---2---2--2--------------------|
D|-2-----------2-------2--2--------------------|
A|-0------0------2-----2-----------------------|
E|---------------------------------------------|</span></span>

<span class="tablatura">Parte 5 de 14
   <b>B/A</b>         <b>G#m7</b>                       <b>C#m7</b>
<span class="cnt">E|-----------------4---------------------------|
B|-4--4-----4--4---4---4--4--4--4------4--5----|
G|-4--4-----4--4---4---4--4--4--4------4--4----|
D|-4----4------4-------4--4--4----4-------6----|
A|-0------0------------------------------------|
E|---------------4-----4-----4------4----------|</span></span>

<span class="tablatura">Parte 6 de 14
              <b>B2</b>          <b>A2</b>
<span class="cnt">E|---4------------------------0----------------|
B|---5--5--5--2--2-----2--0---0--0--0----------|
G|---4--4--4--4--4-----4--2---2--2--2----------|
D|------6--6--4----4------2------2--2----------|
A|-4----------2-------------0------------------|
E|------4------------2-----------0-------------|</span></span>

<span class="tablatura">Parte 7 de 14
               <b>B7(4/9)</b>
<span class="cnt">E|----0------------2---------------------------|
B|-0--0-----0--2---2---2--2--------------------|
G|-2----2---2--2---2---2--2--------------------|
D|-2-----------2-------2--2--------------------|
A|-0------0------2-----2-----------------------|
E|---------------------------------------------|</span></span>

<span class="tablatura">Parte 8 de 14
   <b>B/A</b>         <b>G#m7</b>                       <b>C#m7</b>
<span class="cnt">E|-----------------4---------------------------|
B|-4--4-----4--4---4---4--4--4--4------4--5----|
G|-4--4-----4--4---4---4--4--4--4------4--4----|
D|-4----4------4-------4--4--4----4-------6----|
A|-0------0------------------------------------|
E|---------------4-----4-----4------4----------|</span></span>

<span class="tablatura">Parte 9 de 14
              <b>B2</b>          <b>A2</b>
<span class="cnt">E|---4------------------------0----------------|
B|---5--5--5--2--2-----2--0---0--0--0----------|
G|---4--4--4--4--4-----4--2---2--2--2----------|
D|------6--6--4----4------2------2--2----------|
A|-4----------2-------------0------------------|
E|------4------------2-----------0-------------|</span></span>

<span class="tablatura">Parte 10 de 14
               <b>B7(4/9)</b>
<span class="cnt">E|----0------------2---------------------------|
B|-0--0-----0--2---2---2--2--------------------|
G|-2----2---2--2---2---2--2--------------------|
D|-2-----------2-------2--2--------------------|
A|-0------0------2-----2-----------------------|
E|---------------------------------------------|</span></span>

<span class="tablatura">Parte 11 de 14
   <b>B/A</b>         <b>G#m7</b>                       <b>C#m7</b>
<span class="cnt">E|-----------------4---------------------------|
B|-4--4-----4--4---4---4--4--4--4------4--5----|
G|-4--4-----4--4---4---4--4--4--4------4--4----|
D|-4----4------4-------4--4--4----4-------6----|
A|-0------0------------------------------------|
E|---------------4-----4-----4------4----------|</span></span>

<span class="tablatura">Parte 12 de 14
              <b>B2</b>          <b>A2</b>
<span class="cnt">E|---4------------------------0----------------|
B|---5--5--5--2--2-----2--0---0--0--0----------|
G|---4--4--4--4--4-----4--2---2--2--2----------|
D|------6--6--4----4------2------2--2----------|
A|-4----------2-------------0------------------|
E|------4------------2-----------0-------------|</span></span>

<span class="tablatura">Parte 13 de 14
   <b>B2</b>          <b>C#m7</b>         <b>B2</b>           <b>A2</b>
<span class="cnt">E|-----------------4---------------------------|
B|-2--2-----2--5---5--5--5--2--2-----2---0-----|
G|-4--4-----4--4---4--4--4--4--4-----4---2-----|
D|-4----2------6------6--6--4----4-------2-----|
A|-2-------------4----------2------------------|
E|--------2-----------4------------2-----------|</span></span>

Parte 14 de 14
              
<span class="tablatura"><span class="cnt">E|---0-----------------------------------------|
B|---0---0-0-----------------------------------|
G|---2---2-2-----------------------------------|
D|-------2-2-----------------------------------|
A|-0-------0-----------------------------------|
E|-------0-------------------------------------|</span></span>


[Refrão Final]

 <b>A2</b>
Aí você vem, me deu proteção
    <b>B7(4/9)</b>
Baixou minha guarda
                <b>B/A</b>
Mexeu com a emoção
   <b>G#m7</b>
Tiro fulminante no meu coração
   <b>C#m7</b>    <b>B2</b>
Já era, já era
    <b>A2</b>
O amor quando cerca

Não dá pra correr
     <b>B7(4/9)</b>
Pode até ferir
                <b>B/A</b>
Mas eu quero viver
    <b>G#m7</b>
Eu corro esse risco se for com você
   <b>C#m7</b>    <b>B2</b> 
Já era, já era 

 <b>A2</b>
Aí você vem, me deu proteção
    <b>B7(4/9)</b>
Baixou minha guarda
                <b>B/A</b>
Mexeu com a emoção
   <b>G#m7</b>
Tiro fulminante no meu coração
   <b>C#m7</b>    <b>B2</b>
Já era, já era
    <b>A2</b>
O amor quando cerca

Não dá pra correr
     <b>B7(4/9)</b>
Pode até ferir
                <b>B/A</b>
Mas eu quero viver
    <b>G#m7</b>
Eu corro esse risco se for com você
   <b>C#m7</b>    <b>B2</b>      <b>A2</b>  <b>B2</b>
Já era, já era o amor
   <b>C#m7</b>    <b>B2</b>      <b>A2</b>
Já era, já era o amor


<span class="tablatura">[Tab - Final]

   <b>E2</b>    <b>A2/E</b>  <b>E2</b>
<span class="cnt">E|-------------0-------------------------------|
B|-0-----0-----0-------------------------------|
G|-1-----2-----1-------------------------------|
D|-4-----2-----4-------------------------------|
A|-------------2-------------------------------|
E|-0-----0-----0-------------------------------|</span></span>

[Final] <b>E9</b>  <b>A/E</b>  <b>E9</b>`;

const [title, ...restOfCifra] = cifra.split("\n\n");
const chordsSectionIndex = restOfCifra.findIndex((line) =>
  line.includes("----------------- Acordes -----------------")
);
const mainCifra = restOfCifra.slice(0, chordsSectionIndex).join("\n\n");
const chords = restOfCifra.slice(chordsSectionIndex).join("\n\n");

export default function FulminantePage() {
  // Convert HTML to structured data
  const cifraStructure = convertToStructure(
    mainCifra || "",
    title || "",
    "https://www.cifraclub.com.br/mumuzinho/fulminante/"
  );

  return (
    <>
      <CifraDisplay
        title={title || ""}
        cifraData={cifraStructure}
        // Fallback to old format if needed
        mainCifra={mainCifra || ""}
        chords={chords || ""}
      />
      <FloatingMenu />
    </>
  );
}
