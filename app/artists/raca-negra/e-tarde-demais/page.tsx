import CifraDisplay from "@/components/cifra-display";
import FloatingMenu from "@/components/floating-menu";
import { convertToStructure } from "@/lib/parsers/cifra-converter";

// URL: https://www.cifraclub.com.br/raca-negra/e-tarde-demais

const cifra = `Raca Negra - E Tarde Demais

[Intro] <b>E</b>  <b>F#m</b>  <b>E</b>  <b>F#m</b>

<span class="tablatura">Parte 1 de 3
   <b>E</b>
<span class="cnt">E|---------------------------------------------------|
B|-----0--------0---0--------------------------------|
G|-1h2---1----1--------2---1-------------------------|
D|-2-------------------------------------------------|
A|---------------------------------------------------|
E|-0-------0------0------0---------------------------|</span></span>

<span class="tablatura">Parte 2 de 3
   <b>F#m7</b>    
<span class="cnt">E|---------------------------------------------------|
B|---0h2-------2---2-0-------------------------------|
G|-2-----2---2-----------2---------------------------|
D|-2-------------------------------------------------|
A|---------------------------------------------------|
E|-2-------2-----2-----2-----------------------------|</span></span>

<span class="tablatura">Parte 3 de 3
   <b>F#m7</b>
<span class="cnt">E|----5-4--2-----------------------------------------|
B|----2------2---------------------------------------|
G|-2--2--------2--1----------------------------------|
D|-2-----------------4-------------------------------|
A|---------------------------------------------------|
E|-2-------------------------------------------------|</span></span>

[Primeira Parte]

<span class="tablatura">Parte 1 de 2
   <b>E7M</b>              <b>F#m</b>
<span class="cnt">E|---------------------------------------------------|
B|-0---0---0---0----2---2---2---2--------------------|
G|-1---1---1---1----2---2---2---2--------------------| (4x)
D|-1-1-1-1-1-1-1-1--4-4-4-4-4-4-4-4------------------|
A|---------------------------------------------------|
E|-0---0---0---0----2---2---2---2--------------------|</span></span>

<span class="tablatura">Parte 2 de 2
   <b>E7M</b>             <b>B/D#</b>
<span class="cnt">E|---------------------------------------------------|
B|-0---0---0---0---4---------------------------------|
G|-1---1---1---1---4---------------------------------|
D|-1-1-1-1-1-1-1---4---------------------------------|
A|-----------------6---------------------------------|
E|-0---0---0---0-------------------------------------|</span></span>

<b>E</b>            <b>F#m</b>
  Olha só você 
                 <b>E</b>
Depois de me perder 
           <b>F#m</b>
Veja só você, que pena 
<b>E</b>                     <b>F#m</b>
  Você não quis me ouvir 
                 <b>E</b>
Você não quis saber 
                <b>F#m</b>
Desfez do meu amor 
         <b>E</b>         <b>B/D#</b>
Que pena, que pena 

[Pré-Refrão]

<span class="tablatura">Parte 1 de 3
   <b>C#m</b>              <b>G#m</b>
<span class="cnt">E|---------------------------------------------------|
B|-5---5---5---5----4---4---4---4--------------------|
G|-6---6---6---6----4---4---4---4--------------------|
D|-6-6-6-6-6-6-6-6--6-6-6-6-6-6-6-6------------------|
A|-4---4---4---4-------------------------------------|
E|------------------4---6---6---4--------------------|</span></span>

<span class="tablatura">Parte 2 de 3
   <b>A</b>                <b>G#m</b>
<span class="cnt">E|---------------------------------------------------|
B|-2---2---2---2----4---4---4---4--------------------|
G|-2---2---2---2----4---4---4---4--------------------|
D|-2-2-2-2-2-2-2-2--6-6-6-6-6-6-6-6------------------|
A|-0---0---0---0-------------------------------------|
E|------------------4---6---6---4--------------------|</span></span>

<span class="tablatura">Parte 3 de 3
   <b>A</b>                <b>B7</b>  <b>B7(13)</b> <b>B7</b>
<span class="cnt">E|------------------5---4------5---5-5---------------|
B|-2---2---2---2----4---4------4---4-4---------------|
G|-2---2---2---2----2---2------2---------------------|
D|-2-2-2-2-2-2-2-2-----------------------------------|
A|-0---0---0---0----2---2------2---------------------|
E|---------------------------------------------------|</span></span>

<b>C#m</b>                           <b>G#m</b> 
    Hoje é você quem está sofrendo amor 
 <b>A</b>                        <b>G#m</b>
Hoje sou eu quem não te quer 
<b>C#m</b>                              <b>G#m</b>  
    O meu coração já tem um novo amor 
<b>A</b>                           <b>B7</b>  <b>B7(13)</b>  <b>B7</b>
  Você pode fazer o que quiser 

[Refrão]

<span class="tablatura">Parte 1 de 6
   <b>E</b>
<span class="cnt">E|---------------------------------------------------|
B|-0---0---0--0-0-----0------------------------------|
G|-1---1---1--1-1-----1------------------------------|
D|-2---2---2--2---2----------------------------------|
A|-2----------2--------------------------------------|
E|-------0----------0--------------------------------|</span></span>

<span class="tablatura">Parte 2 de 6
   <b>G#m</b>    
<span class="cnt">E|----------------------------------------------------|
B|-4---4---4--4-4-----4-------------------------------|
G|-4---4---4--4-4-----4-------------------------------|
D|-6---6---6--6---6-----------------------------------|
A|-6----------6---------------------------------------|
E|-------4----------4---------------------------------|</span></span>

<span class="tablatura">Parte 3 de 6
   <b>A</b>
<span class="cnt">E|----------------------------------------------------|
B|-2---2---2--2-2-----2-------------------------------|
G|-2---2---2--2-2-----2-------------------------------|
D|-2---2---2--2---2-----------------------------------|
A|-0----------0---------------------------------------|
E|-------0----------0---------------------------------|</span></span>

<span class="tablatura">Parte 4 de 6
   <b>B7</b>
<span class="cnt">E|----------------------------------------------------|
B|-4---4---4--4-4-----4-------------------------------|
G|-2---2---2--2-2-----2-------------------------------| (2x)
D|-4---4---4--4---4-----------------------------------|
A|-2----------2---------------------------------------|
E|-------2----------2---------------------------------|</span></span>
 
<span class="tablatura">Parte 5 de 6
   <b>F#m</b>
<span class="cnt">E|----------------------------------------------------|
B|-2---2---2--2-2-----2-------------------------------|
G|-2---2---2--2-2-----2-------------------------------|
D|-4---4---4--4---4-----------------------------------|
A|-4----------4---------------------------------------|
E|-------2----------2---------------------------------|</span></span>

<span class="tablatura">Parte 6 de 6
   <b>E</b>
<span class="cnt">E|----------------------------------------------------|
B|-0--------------------------------------------------|
G|-1--------------------------------------------------|
D|-2--------------------------------------------------|
A|----------------------------------------------------|
E|-0--------------------------------------------------|</span></span>

            <b>E</b>                     <b>G#m</b>
Você jogou fora o amor que eu te dei 
                <b>A</b>
O sonho que sonhei 
             <b>B7</b>
Isso não se faz 
            <b>E</b>                <b>G#m</b>
Você jogou fora, a minha ilusão 
            <b>A</b>              <b>B7</b>
A louca paixão, é tarde demais 
     <b>E</b>         <b>F#m</b>
Que pena, que pena amor
     <b>E</b>         <b>F#m</b>
Que pena, que pena amor

[Solo] <b>E</b>  <b>F#m</b>  <b>E</b>  <b>F#m</b>

<span class="tablatura">Parte 1 de 2
<span class="cnt">E|-------4--5-7--7/9\\7--4--4-7-5--4-4------------------|
B|---5-7------------------------------7-7--5-5--4-4----|
G|-6---------------------------------------------------|
D|-----------------------------------------------------|
A|-----------------------------------------------------|
E|-----------------------------------------------------|</span></span>

<span class="tablatura">Parte 2 de 2
<span class="cnt">E|--------------------------4-------4-5-7--4-5-7--12-9-|
B|---4------------5-5---5-7---5-7----------------------|
G|-6----4-4--6--6-----6--------------------------------|
D|-----------------------------------------------------|
A|-----------------------------------------------------|
E|-----------------------------------------------------|</span></span>

[Pré-Refrão]

<span class="tablatura">Parte 1 de 4
   <b>C#m</b>
<span class="cnt">E|----------------------------------------------------|
B|-5---5---5--5-5-----5-------------------------------|
G|-6---6---5--5-5-----5-------------------------------|
D|-6---6---6--6---6-----------------------------------|
A|-4--------------------------------------------------|
E|-------4----------4---------------------------------|</span></span>

<span class="tablatura">Parte 2 de 4
   <b>G#m</b>
<span class="cnt">E|----------------------------------------------------|
B|-4---4---4--4-4-----4-------------------------------|
G|-4---4---4--4-4-----4-------------------------------|
D|-6---6---6--6---6-----------------------------------|
A|-6----------6---------------------------------------|
E|-------4----------4---------------------------------|</span></span>

<span class="tablatura">Parte 3 de 4
  <b>A</b>
<span class="cnt">E|----------------------------------------------------|
B|-2---2---2--2-2-----2-------------------------------|
G|-2---2---2--2-2-----2-------------------------------|
D|-2---2---2--2---2-----------------------------------|
A|-0----------0---------------------------------------|
E|-------0----------0---------------------------------|</span></span>

<span class="tablatura">Parte 4 de 4
   <b>B7</b>
<span class="cnt">E|----------------------------------------------------|
B|-4---4---4--4-4-----4-------------------------------|
G|-2---2---2--2-2-----2-------------------------------|
D|-4---4---4--4---4-----------------------------------|
A|-2----------2---------------------------------------|
E|-------2----------2---------------------------------|</span></span>

<b>C#m</b>                         <b>G#m</b> 
  Hoje é você quem está sofrendo amor 
 <b>A</b>                        <b>G#m</b>
Hoje sou eu quem não te quer 
<b>C#m</b>                        <b>G#m</b>  
  O meu coração já tem um novo amor 
<b>A</b>                           <b>B7</b>
  Você pode fazer o que quiser 

[Refrão]

            <b>E</b>                     <b>G#m</b>
Você jogou fora o amor que eu te dei 
                <b>A</b>
O sonho que sonhei
             <b>B7</b>
Isso não se faz 
            <b>E</b>                <b>G#m</b>
Você jogou fora, a minha ilusão 
            <b>A</b>              <b>B7</b>
A louca paixão, é tarde demais 
     <b>E</b>         <b>F#m</b>
Que pena, que pena amor
     <b>E</b>         <b>F#m</b>
Que pena, que pena amor
     <b>E</b>         <b>F#m</b>
Que pena, que pena amor
     <b>E</b>
Que pena`;

const [title, ...restOfCifra] = cifra.split("\n\n");
const chordsSectionIndex = restOfCifra.findIndex((line) =>
  line.includes("----------------- Acordes -----------------")
);
const mainCifra = restOfCifra.slice(0, chordsSectionIndex).join("\n\n");
const chords = restOfCifra.slice(chordsSectionIndex).join("\n\n");

export default function ETardeDemaisPage() {
  // Convert HTML to structured data
  const cifraStructure = convertToStructure(
    mainCifra || "",
    title || "",
    "https://www.cifraclub.com.br/raca-negra/e-tarde-demais"
  );

  return (
    <>
      <CifraDisplay
        title={title || ""}
        cifraData={cifraStructure}
        // Fallback to old format if needed
        mainCifra={mainCifra || ""}
        chords={chords || ""}
      />
      <FloatingMenu />
    </>
  );
}
